<!doctype html><html><head>
<title>Myt Framework : Tab Slider Example</title>
<link rel="stylesheet" href="../src/css/myt.scss"/>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../src/js/jquery/jquery-1.10.2.min.js">\x3C/script>');</script>
<script src="../src/js/boilerplate.js"></script>
<script src="../src/js/jsclass/min/loader-browser.js"></script>
<script src="../src/js/myt/manifest.js"></script>
</head><body>

<script>
    JS.require('myt.all', function() {this.init();});
    
    function init() {
        var rootView = new myt.View(null, {width:600, height:450, bgColor:'#ffffff'}, [myt.SizeToWindow]);
        
        // PanelStack
         var Panel = new JS.Class('Panel', myt.View, {
            include: [myt.StackablePanel],
            
            initNode: function(parent, attrs) {
                this.callSuper(parent, attrs);
                
                new myt.Text(this, {x:10, y:10, text:this.panelId});
            }
        });
        var panelStack = new myt.PanelStack(rootView, {x:310, y:30, width:300, height:170, bgColor:'#999999'});
        new Panel(panelStack, {panelId:'one',   bgColor:'#ffccff'});
        new Panel(panelStack, {panelId:'two',   bgColor:'#ffffcc'});
        new Panel(panelStack, {panelId:'three', bgColor:'#ccffff'});
        new Panel(panelStack, {panelId:'four'});
        new Panel(panelStack, {panelId:'five'});
        new Panel(panelStack, {panelId:'six'});
        new Panel(panelStack, {panelId:'seven'});
        new Panel(panelStack, {panelId:'eight'});
        new Panel(panelStack, {panelId:'nine'});
        new Panel(panelStack, {panelId:'ten'});
        new Panel(panelStack, {panelId:'eleven'});
        new Panel(panelStack, {panelId:'twelve'});
        
        // Tabs
         var MyTab = new JS.Class('MyTab', myt.Tab, {
            initNode: function(parent, attrs) {
                this.panelId = attrs.panelId;
                this.callSuper(parent, attrs);
            },
            
            setSelected: function(v) {
                this.callSuper(v);
                if (this.selected) panelStack.selectPanel(this.panelId);
            }
        });
         
        // Tab : top
        var top = new myt.View(rootView, {
            x:310, height:30, bgColor:'#eeeeee', groupId:'topNav'
        }, [myt.TabContainer]);
        
        var topTabAttrs = {
            fillColorHover: '#cccccc',
            fillColorReady: '#bbbbbb',
            text:'tab text top',
            shrinkToFit:true
        };
        
        topTabAttrs.panelId = 'one';
        var tt1 = new MyTab(top, topTabAttrs);
        topTabAttrs.panelId = 'two';
        var tt2 = new MyTab(top, topTabAttrs);
        tt2.setChecked(true);
        topTabAttrs.panelId = 'three';
        var tt3 = new MyTab(top, topTabAttrs);
        
        // Tab : bottom
        var bottom = new myt.View(rootView, {
            x:310, y:200, height:30, bgColor:'#eeeeee', groupId:'bottomNav', location:'bottom'
        }, [myt.TabContainer]);
        
        var bottomTabAttrs = {
            fillColorHover: '#cccccc',
            fillColorReady: '#bbbbbb',
            text:'tab text bot',
            shrinkToFit:true
        };
        
        var tb1 = new myt.Tab(bottom, bottomTabAttrs);
        var tb2 = new myt.Tab(bottom, bottomTabAttrs);
        tb2.setSelected(true);
        var tb3 = new myt.Tab(bottom, bottomTabAttrs);
        
        // Tab : left
        var left = new myt.View(rootView, {
            x:210, y:60, width:100, bgColor:'#eeeeee', groupId:'leftNav', location:'left'
        }, [myt.TabContainer]);
        
        var leftTabAttrs = {
            fillColorHover: '#cccccc',
            fillColorReady: '#bbbbbb',
            text:'tab text left',
            shrinkToFit:true
        };
        
        var tl1 = new myt.Tab(left, leftTabAttrs);
        var tl2 = new myt.Tab(left, leftTabAttrs);
        tl2.setDisabled(true);
        var tl3 = new myt.Tab(left, leftTabAttrs);
        
        // Tab : right
        var right = new myt.View(rootView, {
            x:610, y:60, width:100, bgColor:'#eeeeee', groupId:'rightNav', location:'right'
        }, [myt.TabContainer]);
        
        var rightTabAttrs = {
            fillColorHover: '#cccccc',
            fillColorReady: '#bbbbbb',
            text:'tab text right',
            shrinkToFit:true
        };
        
        var tr1 = new myt.Tab(right, rightTabAttrs);
        var tr2 = new myt.Tab(right, rightTabAttrs);
        var tr3 = new myt.Tab(right, rightTabAttrs);
        
        // TabSlider
        var left = new myt.View(rootView, {
            width:200, bgColor:'#eeeeee', percentOfParentHeight:100, groupId:'nav'
        }, [myt.TabSliderContainer, myt.SizeToParent, {
            updateWidth: function(event) {
                this.setWidth(event.value + event.source.inset);
            },
            updateY: function(event) {
                var v = event.value + event.source.inset;
                this.setPercentOfParentHeightOffset(-v);
                this.setY(v);
            },
        }]);
        
        var attrs = {
            buttonHeight:40,
            fillColorChecked: '#0088cc',
            fillColorHover: '#cccccc',
            fillColorActive: '#ccddff',
            fillColorReady: '#bbbbbb',
            edgeSize: 0,
            text:'default text'
        };
        
        var ts1 = new myt.TextTabSlider(left, attrs);
        ts1.setText('foo bar');
        new myt.View(ts1, {width:100, height:50, bgColor:'#ff0000'});
        
        var ts2 = new myt.TextTabSlider(left, attrs);
        new myt.View(ts2, {width:100, height:150, bgColor:'#ffff00'});
        
        var ts3 = new myt.TextTabSlider(left, attrs);
        new myt.View(ts3, {width:100, height:250, bgColor:'#ff00ff'});
        
        var ts4 = new myt.TextTabSlider(left, attrs);
        ts4.setSelected(true);
        new myt.View(ts4, {width:100, height:50, bgColor:'#ff0f0f'});
        
        var ts5 = new myt.TextTabSlider(left, attrs);
        new myt.View(ts5, {width:100, height:350, bgColor:'#fff0f0'});
        
        var ts6 = new myt.TextTabSlider(left, attrs);
        ts6.setDisabled(true);
        new myt.View(ts6, {width:100, height:150, bgColor:'#fff0f0'});
        
        var ts7 = new myt.TextTabSlider(left, attrs);
        new myt.View(ts7, {width:100, height:150, bgColor:'#fff0f0'});
        new myt.Text(ts7, {text:'This is some text that is quite long.'});
        new myt.View(ts7, {width:100, height:50, bgColor:'#fff0f0'});
        new myt.Text(ts7, {text:'abcd.'});
        new myt.SpacedLayout(ts7, {axis:'y'});
        
        var ts8 = new myt.TextTabSlider(left, attrs);
        new myt.View(ts8, {width:100, height:350, bgColor:'#fff0f0'});
        
        global.hDivider = new myt.HorizontalDivider(rootView, {
            percentOfParentHeight:100, limitToParent:0, minValue:98
        }, [myt.SizeToParent]);
        
        left.syncTo(global.hDivider, 'updateWidth', 'value');
        
        global.vDivider = new myt.VerticalDivider(rootView, {
            percentOfParentWidth:100
        }, [myt.SizeToParent]);
        global.vDivider.setLimitToParent(100);
        
        left.syncTo(global.vDivider, 'updateY', 'value');
    }
</script>
</body></html>
