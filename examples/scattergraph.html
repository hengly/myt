<!doctype html><html><head>
<title>Myt Framework : Canvas Example</title>
<link rel="stylesheet" href="../src/css/myt.scss"/>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../src/js/jquery/jquery-1.10.0.min.js">\x3C/script>');</script>
<script src="../src/js/boilerplate.js"></script>
<script src="../src/js/jsclass/min/loader-browser.js"></script>
<script src="../src/js/myt/manifest.js"></script>
</head><body>

<div id="appDiv" style="position:absolute;"></div>
<div id="tooltipDiv" style="position:absolute;"></div>

<script>
    JS.require('myt.all', function() {this.init();});
    
    function init() {
        var appDiv = document.getElementById("appDiv");
        var rootView = new myt.View(appDiv, {bgColor:'#999999'}, [myt.SizeToWindow]);
        
        new myt.IconTextPanelButton(rootView, {x:920, y:10, width:100, text:'Delete by idx'}, [{
            initNode: function(parent, attrs) {
                this.xLoc = 0;
                this.yLoc = 0;
                this.xScale = 1;
                this.yScale = 1;
                this.callSuper(parent, attrs);
            },
            
            doActivated: function() {
                //this.xScale += 0.025;
                //this.yScale += 0.025;
                //graph.setScaleX(this.xScale);
                //graph.setScaleY(this.yScale);
                
                var xMin = graph.getMinX(), xMax = graph.getMaxX(),
                    yMin = graph.getMinY(), yMax = graph.getMaxY();
                graph.animatePoint(graph.getDataPointById('id_0'),
                    myt.getRandomInt(xMin, xMax), 
                    myt.getRandomInt(yMin, yMax)
                );
                graph.animatePoint(graph.getDataPointById('id_1'),
                    myt.getRandomInt(xMin, xMax), 
                    myt.getRandomInt(yMin, yMax)
                );
                graph.animatePoint(graph.getDataPointById('id_2'),
                    myt.getRandomInt(xMin, xMax), 
                    myt.getRandomInt(yMin, yMax)
                );
                graph.animatePoint(graph.getDataPointById('id_3'),
                    myt.getRandomInt(xMin, xMax), 
                    myt.getRandomInt(yMin, yMax)
                );
                graph.animatePoint(graph.getDataPointById('id_4'),
                    myt.getRandomInt(xMin, xMax), 
                    myt.getRandomInt(yMin, yMax)
                );
            }
        }]);
        
        
        var graph = new myt.ScatterGraph(rootView, {x:10, y:10, width:900, height:500});
        graph.addPointTemplate('red', myt.ScatterGraph.createCircleTemplate(2, '#ff0000'));
        graph.addPointTemplate('green', myt.ScatterGraph.createCircleTemplate(2, '#00ff00'));
        graph.addPointTemplate('blue', myt.ScatterGraph.createCircleTemplate(3, '#0000ff', 0.25, 0.5, null, 1));
        graph.addPointTemplate('black', myt.ScatterGraph.createCircleTemplate(4, '#000000', 0.25, 0.5, null, 1));
        
        // Generate data points
        var data = [];
        
        var i = 1000, count = i, config = {key:'black'},
            xMin = graph.getMinX(), xMax = graph.getMaxX(),
            yMin = graph.getMinY(), yMax = graph.getMaxY();
        
        while (i) {
            data[--i] = new myt.ScatterGraphPoint('id_' + i, 
                myt.getRandomInt(xMin, xMax), 
                myt.getRandomInt(yMin, yMax), config
            );
        }
        
        var start = Date.now();
        graph.setData(data);
        var end = Date.now();
        var elapsed = end - start;
        console.log("RENDER: " + elapsed + " LOOP TIME: " + (elapsed / count));
    }
</script>
</body></html>
